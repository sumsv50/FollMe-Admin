<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel='stylesheet' href='assets/css/base-view.css'>
    <link rel='stylesheet' href='assets/css/main.css'>
    <link rel='stylesheet' href='assets/css/croppie.css'>

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <title>FollMe | Chỉnh sửa</title>
</head>

<body>
    <div class="container-view grid">
        <header class="navbar">
            <img src="./assets/img/follme-logo.png">
            <div>
                <span>Quốc Sum</span>
                <i class="fas fa-user-circle user-icon"></i>
            </div>

        </header>
        <div class="link-infor">
            <div class="link-infor__text">
                <span><b>Link của bạn: <i class="far fa-copy"></i></b></span>
                <br>
                <span class="link-text"><b>https://follme.herokuapp.com/sum-sv-50-ahaha-xincha0</b></span>
            </div>
            <div class="link-infor__qr">
                <i class="fas fa-qrcode"></i>
            </div>
        </div>

        <ul class="nav nav-pills mb-3 nav-justified" id="pills-tab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home"
                    type="button" role="tab" aria-controls="pills-home" aria-selected="true">Thông tin</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile"
                    type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Quản lý link</button>
            </li>
        </ul>
        <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade  " id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                <img class="config__avatar" src="assets/img/3 (2).jpg">
                <input id="inp-avatar" type="file" name="avatar"  accept="image/*" hidden="hidden">
                <div type="button" class="button button__upload-avatar" onclick=" document.getElementById('inp-avatar').click();">
                    Đăng ảnh
                </div>
                <div class="container-infor">
                    <div class="mb-4">
                        <label for="name" class="form-label">Tên: </label>
                        <br>
                        <input name="name" type="text" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="bio" class="form-label">Thông tin: </label>
                        <br>
                        <textarea name="bio" class="form-control"  rows="2"></textarea>
                    </div>
                </div>
                <div type="button" class="button button__save-infor" onclick=" document.getElementById('inp-avatar').click();">
                    <i class="far fa-save"></i>Lưu thông tin
                </div>
            </div>
            <div class="tab-pane fade show active" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">

                <div class="header__infor">
                    <div class="information">
                        <img class="infor__avatar" src="assets/img/avatar.jpg" alt="Avatar">
                        <div class="infor__description">
                            <h1 class="infor__name">
                                Dương Vũ Quốc Sum
                            </h1>
                            <h4 class="infor__bio">
                                Sinh viên năm 3 ĐH KHTN
                            </h4>
                        </div>
                    </div>

                </div>
                <div class="create-link" data-bs-toggle="modal" data-bs-target="#create-link-modal"><i class="fas fa-plus"></i>Thêm link</div>
                <div class="link-list">
                    <a>
                        <div class="item">
                            <img src="assets/img/sim.png" alt="logo" class="type-logo">
                            <h3 class="type-name">Số điện thoại</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                    <a >
                        <div class="item">
                            <img src="assets/img/facebook.png" alt="logo" class="type-logo">
                            <h3 class="type-name">Facebook</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                    <a >
                        <div class="item">
                            <img src="assets/img/instagram.png" alt="logo" class="type-logo">
                            <h3 class="type-name">Instagram</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                    <a >
                        <div class="item">
                            <img src="assets/img/email.png" alt="logo" class="type-logo">
                            <h3 class="type-name">Email</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                    <a >
                        <div class="item">
                            <img src="assets/img/zalo.png" alt="logo" class="type-logo">
                            <h3 class="type-name">Zalo</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                    <a >
                        <div class="item">
                            <img src="assets/img/youtube.png" alt="logo" class="type-logo">
                            <h3 class="type-name">Youtube</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                    <a >
                        <div class="item">
                            <img src="assets/img/tiktok.png" alt="logo" class="type-logo">
                            <h3 class="type-name">TikTok</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                    <a >
                        <div class="item">
                            <img src="assets/img/website.png" alt="logo" class="type-logo">
                            <h3 class="type-name">Website</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                    <a >
                        <div class="item">
                            <img src="assets/img/link.png" alt="logo" class="type-logo">
                            <h3 class="type-name">Link khác</h3>
                            <div class="sort-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                        </div>
                    </a>
                </div>


            </div>
        </div>

    </div>

    <!-- Modal -->
    <div class="modal" id="upload-avt-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Cắt ảnh</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="image-demo"></div>
                </div>
                <div class="modal-footer">
                    <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button> -->
                    <button type="button" class="btn btn-primary btn-crop btn-confirm" >Xong</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal create link -->
    <!-- Modal -->
    <div class="modal fade" id="create-link-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Thiết lập link</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <select class="form-select form-select-sm drd-select-link" aria-label=".form-select-sm example">
                    <option selected disabled>Open this select menu</option>
                    <option value="1">He lo</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                </select>
            </div>
            <div class="modal-footer">
            <!-- <button type="button" class=" btn-modal  btn-secondary" data-bs-dismiss="modal">Hủy</button> -->
            <button type="button" class=" btn-modal  btn-primary">Thêm</button>
            </div>
        </div>
        </div>
    </div>
    <footer>
        <img src="assets/img/follme-logo.png" alt="follme-logo" class="follme-logo" />
        <h4>FollMe</h4>
    </footer>
    <script src='assets/js/jquery-3.6.0.min.js'></script>
    <!-- <script type="text/javascript" src="assets/bootstrap/js/bootstrap.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script type="text/javascript" src="assets/js/croppie.min.js"></script>
    <script type="text/javascript" src="assets/js/sortable.min.js"></script>
    <script type="text/javascript" src="assets/js/me.js"></script>
    <script>
        const preview = document.querySelector('.config__avatar');
        $(document).ready(function () {
            $image_crop = $('#image-demo').croppie({
                enableExif: true,
                viewport: {
                    width: 200,
                    height: 200,
                    type: 'square'
                },
                boundary: {
                    zoom: 0,
                    width: 300,
                    height: 300
                },
            })
        })

        $('#inp-avatar').on('change', function (event) {
            var reader = new FileReader();
            reader.onload = function (event) {
                $image_crop.croppie('bind', {
                    url: event.target.result,
                }).then(function () {
                    $image_crop.croppie('setZoom', 0);
                })
            }
            reader.readAsDataURL(this.files[0]);
            $('#upload-avt-modal').modal('show');
        })

        $('.btn-crop').click(function() {
            $image_crop.croppie('result', {
                size: {width: 250, height: 250},
                type: 'canvas',
            }).then(function(response){
                preview.src = response;
                // console.log(response);
            })
            $('#upload-avt-modal').modal('hide');
        })



        const dragArea = document.querySelector('.link-list');
        new Sortable(dragArea, {
            animation: 250,
            handle: '.sort-icon',
            ghostClass: 'choosen-background-class',
            onUpdate: (env) => {
                console.log(env.oldIndex, env.newIndex)
            }
        })

    </script>

</body>

</html>